application:
  schemaVersion: 1.0.0-preview2
  name: TodoApp
  properties:  
    services:
      - name: TodoAppSvc
        properties:
          description: This service has no description
          osType: Linux
          codePackages:
           - name: TodoAppSvcCodePackage
             image: rapatchi/todoapplinux:13.0
             endpoints:
                - name: TodoAppSvcListener
                  port: 8080
             resources:
                requests:
                  cpu: 0.5
                  memoryInGB: 2.0
             reliableCollectionsRefs:
              - name: TestReliableCollections
                doNotPersistState: True
             environmentVariables:
               - name: Fabric_PartitionCount
                 value: 2
          replicaCount: 2
          networkRefs:
            - name: TodoAppNetwork